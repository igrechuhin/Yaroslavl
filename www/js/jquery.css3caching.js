(function($){function parseImagesFromCSS(a){var i,j,rule,image,pattern=/url\((.*)\)/,properties=['background-image','-webkit-border-image'],images={};if(a.styleSheets){for(i=0;i<a.styleSheets.length;++i){images=$.extend(images,parseImagesFromCSS(a.styleSheets[i]))}}else if(a.cssRules){for(i=0;i<a.cssRules.length;++i){rule=a.cssRules[i];if(rule.styleSheet){images=$.extend(images,parseImagesFromCSS(rule.styleSheet))}else if(rule.style){for(j=0;j<properties.length;j++){image=pattern.exec(rule.style.getPropertyValue(properties[j]));if(image&&image.length===2){images[image[1]]=image[0]}}}}}return images};$.extend({preload:{images:function(b){b=b||document;var c=$.map(parseImagesFromCSS(b),function(a){return a}),head=b.getElementsByTagName('head')[0],style=b.createElement('style');style.type='text/css';style.id='preload';style.innerHTML='body::after { content: '+c.join(' ')+'; display: none; }';head.appendChild(style)}}})})(jQuery);